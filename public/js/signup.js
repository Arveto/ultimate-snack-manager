function signup(a){$("#loginNav").addClass("is-loading"),socket.emit("signup",{faName:a.faName,fiName:a.fiName,pseudo:a.pseudo,email:a.email,password:a.password1})}socket.on("signupSuccess",()=>{login($("#emailSignup").val(),$("#password1").val()),notif("success","Votre compte a bien \xE9t\xE9 cr\xE9\xE9!"),logged=!0,changeView("dashboard"),$(".username").val(""),$("#loginNav").removeClass("is-loading").html("Connect\xE9: <b> &nbsp; "+currentUser.login+"</b>"),$("#loginPopup").hide(),$("#password1").val(""),$("#password2").val("")}),socket.on("signupFailure",()=>{notif("danger","Addresse d\xE9j\xE0 utilis\xE9e"),$("#loginNav").removeClass("is-loading").html("Login"),$("#loginPopup").hide()});function hash(a){let b=new jsSHA("SHA-512","TEXT");return b.update(a),b.getHash("HEX")}$("#submitSignup").on("click",()=>{let a=$("#emailSignup"),b=$("#password2");a.removeClass("is-danger"),$("#emailError").remove(),b.removeClass("is-danger"),$("#passwordError").remove();var c={faName:$("#faName").val(),fiName:$("#fiName").val(),pseudo:$("#pseudo").val(),email:$("#emailSignup").val(),password1:$("#password1").val(),password2:$("#password2").val()},d=!0;for(key in c)""==c[key]&&"pseudo"!=key&&(d=!1);c.password1=hash(c.password1),c.password2=hash(c.password2);var e=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;d&&e.test(c.email)&&c.password1==c.password2&&signup(c),e.test(c.email)||(a.addClass("is-danger"),a.after("<p class=\"help is-danger\" id=\"emailError\">Addresse invalide ;(</p>")),c.password1!=c.password2&&(b.addClass("is-danger"),b.after("<p class=\"help is-danger\" id=\"passwordError\">Mots de passe non identiques ;(</p>"))});