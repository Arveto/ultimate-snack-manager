"use strict";(function(a){function d(i,o,a){var s,x,z,B,C,D,E,F,G,H=0,I=[],J=0,K=!1,L=[],M=[],r=!1;if(a=a||{},s=a.encoding||"UTF8",G=a.numRounds||1,G!==parseInt(G,10)||1>G)throw Error("numRounds must a integer >= 1");if(0!==i.lastIndexOf("SHA-",0))throw Error("Chosen SHA variant is not supported");else if(D=function(b,a){return l(b,a,i)},E=function(b,f,h,j){var m,n;if("SHA-384"===i||"SHA-512"===i)m=(f+129>>>10<<5)+31,n=32;else throw Error("Unexpected error in SHA-2 implementation");for(;b.length<=m;)b.push(0);for(b[f>>>5]|=128<<24-f%32,f+=h,b[m]=4294967295&f,b[m-1]=0|f/4294967296,h=b.length,f=0;f<h;f+=n)j=l(b.slice(f,f+n),j,i);if("SHA-384"===i)b=[j[0].a,j[0].b,j[1].a,j[1].b,j[2].a,j[2].b,j[3].a,j[3].b,j[4].a,j[4].b,j[5].a,j[5].b];else if("SHA-512"===i)b=[j[0].a,j[0].b,j[1].a,j[1].b,j[2].a,j[2].b,j[3].a,j[3].b,j[4].a,j[4].b,j[5].a,j[5].b,j[6].a,j[6].b,j[7].a,j[7].b];else throw Error("Unexpected error in SHA-2 implementation");return b},F=function(b){return b.slice()},"SHA-384"===i)C=1024,B=384;else if("SHA-512"===i)C=1024,B=512;else throw Error("Chosen SHA variant is not supported");z=n(o,s),x=w(i),this.setHMACKey=function(b,c,e){var f;if(!0==K)throw Error("HMAC key already set");if(!0==r)throw Error("Cannot set HMAC key after calling update");if(s=(e||{}).encoding||"UTF8",c=n(c,s)(b),b=c.binLen,c=c.value,f=C>>>3,e=f/4-1,f<b/8){for(c=E(c,b,0,w(i));c.length<=e;)c.push(0);c[e]&=4294967040}else if(f>b/8){for(;c.length<=e;)c.push(0);c[e]&=4294967040}for(b=0;b<=e;b+=1)L[b]=909522486^c[b],M[b]=1549556828^c[b];x=D(L,x),H=C,K=!0},this.update=function(c){var e,g,i,j=0,k=C>>>5;for(e=z(c,I,J),c=e.binLen,g=e.value,e=c>>>5,i=0;i<e;i+=k)j+C<=c&&(x=D(g.slice(i,i+k),x),j+=C);H+=j,I=g.slice(j>>>5),J=c%C,r=!0},this.getHash=function(c,a){var d,h,k,n;if(!0==K)throw Error("Cannot call getHash after setting HMAC key");switch(k=j(a),c){case"HEX":d=function(c){return b(c,B,k)};break;case"B64":d=function(b){return e(b,B,k)};break;case"BYTES":d=function(b){return f(b,B)};break;case"ARRAYBUFFER":try{h=new ArrayBuffer(0)}catch(a){throw Error("ARRAYBUFFER not supported by this environment")}d=function(b){return g(b,B)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER");}for(n=E(I.slice(),J,H,F(x)),h=1;h<G;h+=1)n=E(n,B,0,w(i));return d(n)},this.getHMAC=function(c,a){var d,h,k,l;if(!1==K)throw Error("Cannot call getHMAC without first setting HMAC key");switch(k=j(a),c){case"HEX":d=function(c){return b(c,B,k)};break;case"B64":d=function(b){return e(b,B,k)};break;case"BYTES":d=function(b){return f(b,B)};break;case"ARRAYBUFFER":try{d=new ArrayBuffer(0)}catch(a){throw Error("ARRAYBUFFER not supported by this environment")}d=function(b){return g(b,B)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER");}return h=E(I.slice(),J,H,F(x)),l=D(M,w(i)),l=E(h,B,C,l),d(l)}}function i(c,b){this.a=c,this.b=b}function b(c,b,f){var d="";b/=8;var h,i;for(h=0;h<b;h+=1)i=c[h>>>2]>>>8*(3+-1*(h%4)),d+="0123456789abcdef".charAt(15&i>>>4)+"0123456789abcdef".charAt(15&i);return f.outputUpper?d.toUpperCase():d}function e(h,b,a){var d,i,j,l="",m=b/8;for(d=0;d<m;d+=3)for(i=d+1<m?h[d+1>>>2]:0,j=d+2<m?h[d+2>>>2]:0,j=(255&h[d>>>2]>>>8*(3+-1*(d%4)))<<16|(255&i>>>8*(3+-1*((d+1)%4)))<<8|255&j>>>8*(3+-1*((d+2)%4)),i=0;4>i;i+=1)l+=8*d+6*i<=b?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&j>>>6*(3-i)):a.b64Pad;return l}function f(e,b){var a,f,h="";for(a=0;a<b/8;a+=1)f=255&e[a>>>2]>>>8*(3+-1*(a%4)),h+=String.fromCharCode(f);return h}function g(f,b){var a,h,i=b/8,d=new ArrayBuffer(i);for(h=new Uint8Array(d),a=0;a<i;a+=1)h[a]=255&f[a>>>2]>>>8*(3+-1*(a%4));return d}function j(c){var d={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(c=c||{},d.outputUpper=c.outputUpper||!1,!0===c.hasOwnProperty("b64Pad")&&(d.b64Pad=c.b64Pad),"boolean"!=typeof d.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof d.b64Pad)throw Error("Invalid b64Pad formatting option");return d}function n(c,e){var a;switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE");}switch(c){case"HEX":a=function(e,a,g){var i,j,k,m,o,q=e.length;if(0!=q%2)throw Error("String of HEX type must be in byte increments");for(a=a||[0],g=g||0,o=g>>>3,i=0;i<q;i+=2){if(j=parseInt(e.substr(i,2),16),isNaN(j))throw Error("String of HEX type contains invalid characters");for(m=(i>>>1)+o,k=m>>>2;a.length<=k;)a.push(0);a[k]|=j<<8*(3+-1*(m%4))}return{value:a,binLen:4*q+g}};break;case"TEXT":a=function(a,b,g){var i,j,k,o,s,u,v,w,x=0;if(b=b||[0],g=g||0,s=g>>>3,"UTF8"===e)for(w=3,k=0;k<a.length;k+=1)for(i=a.charCodeAt(k),j=[],128>i?j.push(i):2048>i?(j.push(192|i>>>6),j.push(128|63&i)):55296>i||57344<=i?j.push(224|i>>>12,128|63&i>>>6,128|63&i):(k+=1,i=65536+((1023&i)<<10|1023&a.charCodeAt(k)),j.push(240|i>>>18,128|63&i>>>12,128|63&i>>>6,128|63&i)),o=0;o<j.length;o+=1){for(v=x+s,u=v>>>2;b.length<=u;)b.push(0);b[u]|=j[o]<<8*(w+-1*(v%4)),x+=1}else if("UTF16BE"===e||"UTF16LE"===e)for(w=2,j="UTF16LE"===e&&!0||void 0,k=0;k<a.length;k+=1){for(i=a.charCodeAt(k),!0===j&&(o=255&i,i=o<<8|i>>>8),v=x+s,u=v>>>2;b.length<=u;)b.push(0);b[u]|=i<<8*(w+-1*(v%4)),x+=2}return{value:b,binLen:8*x+g}};break;case"B64":a=function(e,f,g){var i,j,k,o,r,s,u,v=0;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(j=e.indexOf("="),e=e.replace(/\=/g,""),-1!==j&&j<e.length)throw Error("Invalid '=' found in base-64 string");for(f=f||[0],g=g||0,s=g>>>3,j=0;j<e.length;j+=4){for(r=e.substr(j,4),k=o=0;k<r.length;k+=1)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(r[k]),o|=i<<18-6*k;for(k=0;k<r.length-1;k+=1){for(u=v+s,i=u>>>2;f.length<=i;)f.push(0);f[i]|=(255&o>>>16-8*k)<<8*(3+-1*(u%4)),v+=1}}return{value:f,binLen:8*v+g}};break;case"BYTES":a=function(e,a,f){var g,i,j,k,o;for(a=a||[0],f=f||0,j=f>>>3,i=0;i<e.length;i+=1)g=e.charCodeAt(i),o=i+j,k=o>>>2,a.length<=k&&a.push(0),a[k]|=g<<8*(3+-1*(o%4));return{value:a,binLen:8*e.length+f}};break;case"ARRAYBUFFER":try{a=new ArrayBuffer(0)}catch(a){throw Error("ARRAYBUFFER not supported by this environment")}a=function(e,a,f){var g,i,j,k,o;for(a=a||[0],f=f||0,i=f>>>3,o=new Uint8Array(e),g=0;g<e.byteLength;g+=1)k=g+i,j=k>>>2,a.length<=j&&a.push(0),a[j]|=o[g]<<8*(3+-1*(k%4));return{value:a,binLen:8*e.byteLength+f}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER");}return a}function h(b,c){var a=null,a=new i(b.a,b.b);return a=32>=c?new i(a.a>>>c|4294967295&a.b<<32-c,a.b>>>c|4294967295&a.a<<32-c):new i(a.b>>>c-32|4294967295&a.a<<64-c,a.a>>>c-32|4294967295&a.b<<64-c)}function k(b,c){var a=null;return a=32>=c?new i(b.a>>>c,b.b>>>c|4294967295&b.a<<32-c):new i(0,b.a>>>c-32)}function o(b,c,a){return new i(b.a&c.a^~b.a&a.a,b.b&c.b^~b.b&a.b)}function s(b,c,a){return new i(b.a&c.a^b.a&a.a^c.a&a.a,b.b&c.b^b.b&a.b^c.b&a.b)}function H(b){var e=h(b,28),a=h(b,34);return b=h(b,39),new i(e.a^a.a^b.a,e.b^a.b^b.b)}function I(b){var e=h(b,14),a=h(b,18);return b=h(b,41),new i(e.a^a.a^b.a,e.b^a.b^b.b)}function K(b){var e=h(b,1),a=h(b,8);return b=k(b,7),new i(e.a^a.a^b.a,e.b^a.b^b.b)}function L(b){var e=h(b,19),a=h(b,61);return b=k(b,6),new i(e.a^a.a^b.a,e.b^a.b^b.b)}function M(b,c){var a,f,h;return a=(65535&b.b)+(65535&c.b),f=(b.b>>>16)+(c.b>>>16)+(a>>>16),h=(65535&f)<<16|65535&a,a=(65535&b.a)+(65535&c.a)+(f>>>16),f=(b.a>>>16)+(c.a>>>16)+(a>>>16),new i((65535&f)<<16|65535&a,h)}function N(b,c,a,d){var e,h,j;return e=(65535&b.b)+(65535&c.b)+(65535&a.b)+(65535&d.b),h=(b.b>>>16)+(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e>>>16),j=(65535&h)<<16|65535&e,e=(65535&b.a)+(65535&c.a)+(65535&a.a)+(65535&d.a)+(h>>>16),h=(b.a>>>16)+(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e>>>16),new i((65535&h)<<16|65535&e,j)}function O(b,c,a,d,e){var g,h,j;return g=(65535&b.b)+(65535&c.b)+(65535&a.b)+(65535&d.b)+(65535&e.b),h=(b.b>>>16)+(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16),j=(65535&h)<<16|65535&g,g=(65535&b.a)+(65535&c.a)+(65535&a.a)+(65535&d.a)+(65535&e.a)+(h>>>16),h=(b.a>>>16)+(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>16),new i((65535&h)<<16|65535&g,j)}function w(b){var c,e=[];if(0===b.lastIndexOf("SHA-",0))switch(e=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],c=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],b){case"SHA-224":break;case"SHA-256":e=c;break;case"SHA-384":e=[new i(3418070365,e[0]),new i(1654270250,e[1]),new i(2438529370,e[2]),new i(355462360,e[3]),new i(1731405415,e[4]),new i(41048885895,e[5]),new i(3675008525,e[6]),new i(1203062813,e[7])];break;case"SHA-512":e=[new i(c[0],4089235720),new i(c[1],2227873595),new i(c[2],4271175723),new i(c[3],1595750129),new i(c[4],2917565137),new i(c[5],725511199),new i(c[6],4215389547),new i(c[7],327033209)];break;default:throw Error("Unknown SHA variant");}else throw Error("No SHA variants supported");return e}function l(b,c,a){var j,n,J,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia=[];if("SHA-384"===a||"SHA-512"===a)W=80,Y=2,ga=i,Z=M,$=N,_=O,aa=K,ba=L,ca=H,da=I,fa=s,ea=o,ha=P;else throw Error("Unexpected error in SHA-2 implementation");for(a=c[0],j=c[1],n=c[2],J=c[3],Q=c[4],R=c[5],S=c[6],T=c[7],X=0;X<W;X+=1)16>X?(V=X*Y,U=b.length<=V?0:b[V],V=b.length<=V+1?0:b[V+1],ia[X]=new ga(U,V)):ia[X]=$(ba(ia[X-2]),ia[X-7],aa(ia[X-15]),ia[X-16]),U=_(T,da(Q),ea(Q,R,S),ha[X],ia[X]),V=Z(ca(a),fa(a,j,n)),T=S,S=R,R=Q,Q=Z(J,U),J=n,n=j,j=a,a=Z(U,V);return c[0]=Z(a,c[0]),c[1]=Z(j,c[1]),c[2]=Z(n,c[2]),c[3]=Z(J,c[3]),c[4]=Z(Q,c[4]),c[5]=Z(R,c[5]),c[6]=Z(S,c[6]),c[7]=Z(T,c[7]),c}var m,P;m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],P=[new i(m[0],3609767458),new i(m[1],602891725),new i(m[2],3964484399),new i(m[3],2173295548),new i(m[4],4081628472),new i(m[5],3053834265),new i(m[6],2937671579),new i(m[7],3664609560),new i(m[8],2734883394),new i(m[9],1164996542),new i(m[10],1323610764),new i(m[11],3590304994),new i(m[12],4068182383),new i(m[13],991336113),new i(m[14],633803317),new i(m[15],3479774868),new i(m[16],2666613458),new i(m[17],944711139),new i(m[18],2341262773),new i(m[19],2007800933),new i(m[20],1495990901),new i(m[21],1856431235),new i(m[22],3175218132),new i(m[23],2198950837),new i(m[24],3999719339),new i(m[25],766784016),new i(m[26],2566594879),new i(m[27],3203337956),new i(m[28],1034457026),new i(m[29],2466948901),new i(m[30],3758326383),new i(m[31],168717936),new i(m[32],1188179964),new i(m[33],1546045734),new i(m[34],1522805485),new i(m[35],2643833823),new i(m[36],2343527390),new i(m[37],1014477480),new i(m[38],1206759142),new i(m[39],344077627),new i(m[40],1290863460),new i(m[41],3158454273),new i(m[42],3505952657),new i(m[43],106217008),new i(m[44],3606008344),new i(m[45],1432725776),new i(m[46],1467031594),new i(m[47],851169720),new i(m[48],3100823752),new i(m[49],1363258195),new i(m[50],3750685593),new i(m[51],3785050280),new i(m[52],3318307427),new i(m[53],3812723403),new i(m[54],2003034995),new i(m[55],3602036899),new i(m[56],1575990012),new i(m[57],1125592928),new i(m[58],2716904306),new i(m[59],442776044),new i(m[60],593698344),new i(m[61],3733110249),new i(m[62],2999351573),new i(m[63],3815920427),new i(3391569614,3928383900),new i(3515267271,566280711),new i(3940187606,3454069534),new i(4118630271,4000239992),new i(116418474,1914138554),new i(174292421,2731055270),new i(289380356,3203993006),new i(460393269,320620315),new i(685471733,587496836),new i(852142971,1086792851),new i(1017036298,365543100),new i(1126000580,2618297676),new i(1288033470,3409855158),new i(1501505948,4234509866),new i(1607167915,987167468),new i(1816402316,1246189591)],"function"==typeof define&&define.amd?define(function(){return d}):"undefined"==typeof exports?a.jsSHA=d:("undefined"!=typeof module&&module.exports&&(module.exports=d),exports=d)})(this);