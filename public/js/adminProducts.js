"use strict";var adminProduct={},addProduct=!1;$(".adminProduct").on("click",function(c){c.stopPropagation(),addProduct=!1,adminProduct.id=getIdFromClassName(this);for(var a=0;a<products.length;a++)if(products[a].id==adminProduct.id){adminProduct.name=products[a].name,adminProduct.price=products[a].price,adminProduct.stock=products[a].stock,adminProduct.onSale=products[a].onSale;break}$("#isOnSale").prop("checked",adminProduct.onSale),$("#adminEditProduct").show(),$(".adminProductEditInput .productName").html(adminProduct.name),$(".adminProductEditInput .productPrice").html(adminProduct.price),$(".adminProductEditInput .productAmount").html(adminProduct.stock)}),$(".adminProductEditInput .minus").on("click",function(){var b=$(".adminProductEditInput .productAmount").html();b=parseInt(b),0<b&&$(".adminProductEditInput .productAmount").html(b-1)}),$(".adminProductEditInput .plus").on("click",function(){var b=$(".adminProductEditInput .productAmount").html();b=parseInt(b),$(".adminProductEditInput .productAmount").html(b+1)}),$("#addProduct").on("click",function(){addProduct=!0,$("#adminEditProduct").show(),$(".adminProductEditInput .productName").html("PRODUCT NAME"),$(".adminProductEditInput .productPrice").html("PRICE"),$(".adminProductEditInput .productAmount").html("0")}),$("#cancelEdition").on("click",function(){$("#adminEditProduct").hide(),adminProduct={},$(".adminProductEditInput .productName").html("--"),$(".adminProductEditInput .productPrice").html("--"),$(".adminProductEditInput .productAmount").html("--")}),$("#submitEdition").on("click",function(){$("#adminEditProduct").hide();var b={};b.name=addProduct?$(".adminProductEditInput .productName").html().slice(0,-4):$(".adminProductEditInput .productName").html(),b.price=$(".adminProductEditInput .productPrice").html(),b.amount=$(".adminProductEditInput .productAmount").html(),addProduct?socket.emit("adminProduct",{action:"newProduct",product:b,admin:currentUser}):(b.id=adminProduct.id,socket.emit("adminProduct",{action:"updateProduct",product:b,admin:currentUser}))}),$("#isOnSale").on("click",function(){socket.emit("editOnSale",{id:adminProduct.id})}),$("#removeProduct").on("click",function(){socket.emit("deleteProduct",{id:adminProduct.id})}),socket.on("productValidation",function(){notif("success","Changement effectu\xE9! Rafraichissez la page pour la mettre \xE0 jour.")});